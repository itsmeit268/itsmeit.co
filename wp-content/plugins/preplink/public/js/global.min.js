!function(e){"use strict";e(function(){var t=href_proccess.end_point.trim(),r=window.location.href.replace(/#.*/,""),n=parseInt(href_proccess.count_down),o=parseInt(href_proccess.cookie_time),s=href_proccess.wait_text.trim(),i=href_proccess.display_mode,l=parseInt(href_proccess.auto_direct),a=href_proccess.text_complete.trim(),c=href_proccess.pre_elm_exclude.trim().replace(/\\r\\|\r\n|\s/g,"").replace(/^,|,$/g,"").split(","),p=href_proccess.prep_url,f=href_proccess.links_noindex_nofollow,d=e(window).width(),u=href_proccess.is_user_logged_in,g=parseInt(href_proccess.is_popup),h=href_proccess.remix_url;let $={};function m(e,t){var r=new Date(Date.now()+6e4*o);document.cookie=`${e}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`,document.cookie=`${e}=${t}; expires=${r.toUTCString()}; path=/`}function x(e){m("prep_title",e)}function v(e){m("prep_request",e)}function w(){return -1!==r.indexOf("?")&&(r=r.split("?")[0]),r.indexOf(".html")>-1&&r.includes(".html")?r=r.match(/.*\.html/)[0]+"/":r.includes("/"+t+"/")?r=r.replace("/"+t+"/",""):-1!==r.indexOf(".html")||r.endsWith("/")||(r+="/"),r+t}function _(e,t){if(void 0===e)return!1;for(var r=0;r<t.length;r++)if(void 0!==t[r]&&-1!==e.indexOf(t[r]))return!0;return!1}u&&(n=5,i="progress"),e("a").each(function(){var t=e(this),r=e(this).attr("href"),n=p.replace(/\\r\\|\r\n|\s/g,"").replace(/^,|,$/g,"").split(","),o=t.text(),s=f.replace(/\\r\\|\r\n|\s/g,"").replace(/^,|,$/g,"").split(",");if(""!==f&&_(r,s)&&t.attr("rel","nofollow noopener noreferrer"),!c.some(e=>t.is(e))&&!(t.closest(c.join(",")).length>0)&&null!=r&&r.length&&""!==p&&_(r,n)){r===encodeURIComponent(decodeURIComponent(r))&&(r=decodeURIComponent(r));var l,a,d=(l=btoa(r),a=Math.floor((l=h.prefix+l).length/2),l=l.substring(0,a)+h.mix_str+l.substring(a),l+=h.suffix);"progress"===i?t.replaceWith('<div class="post-progress-bar"><span id="prep-request" data-id="'+d+'"><strong class="post-progress">'+o+"</strong></span></div>"):t.replaceWith('<span class="wrap-countdown"><span id="prep-request" data-id="'+d+'"><strong class="link-countdown">'+o+"</strong></span></span>");var u=e(".post-progress-bar,.wrap-countdown").find("strong:contains('|')");700>e(window).width()&&u.length&&u.remove()}}),e(document).on("click","#prep-request",function(t){var r;t.preventDefault();let o=e(this),p=o.text(),f=o.attr("data-id"),m=(r=f).replace(h.prefix,"").replace(h.mix_str,"").replace(h.suffix,""),_=o.find(".text-hide-complete").data("complete");if(function e(t){try{let r=atob(t);return null!==r.match(/^https?:\/\/.+/)}catch(n){return console.log(n.message),!1}}(m)){if(0===n){x(p),v(f),d>700?window.open(w(),"_blank"):window.location.href=w();return}if(1===_){x(o.find(".text-hide-complete").data("text")),v(f),d>700?window.open(w(),"_blank"):window.location.href=w();return}!($[f]&&$[f].active||c.some(e=>o.is(e))||o.closest(c.join(",")).length>0||null==m||!m.length)&&n>0&&(g||u||(e(".login-toggle").trigger("click"),e(".mes-login").remove(),e(".logo-popup-description").after('<div class="mes-login" style="color: red;font-size: 15px;">Would you like to log in to skip the waiting time?</div>'),e("#user_login,#user_pass").on("focus",function(){e(".mes-login").remove()})),o.off("click"),$[f]={active:!0},"wait_time"===i?function e(t,r,o){let i,c=n,p=()=>{if(t.html(`<strong> ${s} ${c}s...</strong>`),--c<0){clearInterval(i);let e=`<span class="text-hide-complete" data-complete="1" data-text="${o}"></span>`;e+='<span style="background-color:#0c7c3f;vertical-align: unset;">&nbsp;'+a+"</span>",t.html(e),t.parents(".wrap-countdown").css("background-color","#0c7c3f"),l&&(x(o),v(r),window.location.href=w()),$[r]={active:!1}}else setTimeout(p,1e3)};p()}(o,f,p):function e(t,r,o){let s=t.find(".post-progress"),i=s.width(),c=t.parent(".post-progress-bar"),p=0,f=n;c.css("width",c.width()),s.width("0%"),s.css("background-color","#1479B3");let d=setInterval(function(){if(u?p+=i/100:p+=i/(1e3*f/f),s.width(p),p>=i){clearInterval(d);let e='<i class="fa fa-angle-double-right fa-shake" style="color: #fff;cursor: pointer;font-size: 13px;"></i>';e+=`<span class="text-hide-complete" data-complete="1" data-text="${o}"></span>`,e+='<span class="text-complete">&nbsp;'+a+"</span>",t.html('<strong class="post-progress" style="background-color:#0c7c3f">'+e+"</strong>"),c.removeAttr("style"),l&&(x(o),v(r),window.location.href=w())}},f)}(o,f,p))}})})}(jQuery);